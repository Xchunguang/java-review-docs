# java面向对象
- 如何理解面向对象
  面向对象的思想是把整个世界看成是由各种对象组成的，这些对象具有属性和行为，OC中称之为属性和方法，从最简单的整数到复杂的飞机等均可看作对象，他不仅能表示具体的事物，还能表示抽象的规则、计划或事件。
  在面向对象的思想中，具体的事物是对象，具有相同的或相似的性质的对象的抽象或者说描述就是类，因此，对象的抽象是类，类的具体化就是对象，也可以说类的实例就是对象。
- 面向对象三大特性：
  - 封装：
    就是把客观的事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象进行使用，对不可信的进行信息隐藏
  - 继承
    可以实现现有类的部分功能，并在无需编写原类的情况下对类的功能进行扩展，通过集成的类称为子类或派生类，被继承的类称为基类或父类或超类，继承的过程，就是从一般到特殊的过程。
  - 多态
    是允许你将父对象设置成为一个或更多的他的子对象相等的技术，赋值之后，父对象就可以根据当前赋值给他的子对象的特性以不同的方式运作。实现多态有两种方式：覆盖和重载。覆盖是指子类重新定义父类中的函数的做法，重载是指允许存在多个同名函数。
    - 多态的作用
      我们知道，封装可以实现细节，使代码模块化，继承可以扩展已有的代码模块，他们的目的就是―代码重用，而多态则是为了实现另一个目的―接口重用，多态的作用就是为了在继承和派生的时候，保证使用“家谱”中任意一类的实例的某一属性时的正确调用。
    - 上转型对象
    - 下转型对象
- 类之间的关系
  - 继承（is-a）
    继承是Java面向对象的基础，它允许创建分等级层次的类。继承即是子类继承父类的属性特性和行为，使子类具有父类的特性或行为。Java支持单继承，即一个子类只能有一个父类
    - 继承的特性：
      - 子类拥有父类的非private的属性和方法
      - 子类仍可自定义自己的属性和方法，只属于子类自身
      - 子类可覆盖父类的方法，重新实现
      - Java只支持单继承，即一个子类只能有一个父类，但Java支持多重继承
      - （缺点）继承提高了类之间的耦合性
      - 子类使用super.method()调用父类的方法
      - 使用final定义的类为最终类，不可以被继承
    - 重写和重载：
      - 重写的规则：
        - 重写方法的参数列表必须完全与被重写的方法的参数列表相同，否则是重载
        - 重写方法的访问修饰符一定要大于被重写的方法的访问修饰符public?protect?default?private
        - 重写的方法的返回值必须和被重写的方法的返回值一致
        - 重写的方法所抛出的异常必须和被重写的方法所抛出的异常一致，或者是其子类
        - 被重写的方法不能为private，否则在其子类中只是新定义了一个方法，并没有重写
        - 静态方法不能被重写为非静态的方法（编译错误）
      - 重载的规则：
        - 在使用重载的时候只能通过相同的方法名，不同的参数名，不同的形参实现，不同的参数类型，不同的参数个数，不同的参数顺序
        - 不能通过访问权限，返回类型，抛出异常进行重载
        - 方法的异常类型和数目不会对重载造成影响
      - 重写和重载的区别：
        - 重写必须继承，重载不用
        - 重写的方法名，参数数目相同，参数类型兼容，重载方法名相同，参数列表不同
        - 重写的方法修饰符大于父类的方法，重载和修饰符无关
        - 重写不可以抛出父类没有抛出的一般异常，可以抛出运行时异常
  - 依赖：
    就是一个类A中的方法另一个类B。依赖的关系具有偶然性临时性，但是B类的变化会影响到A类。
    
        class Pen{
          public void write(){
            System.out.println("项目开工");
          }
        }
        class Person{
          public void userPen(Pen pen){
            pen.write();
          }
        }
        
  - 关联：
    关联即是两个类或接口之间的强依赖。比依赖紧密型更强，不存在偶然和临时性。而且双方的关系是平等的。
    
        class Pen{
          public void write(){
            System.out.println("项目开工");
          }
        }
        
        class Person{
          private Pen pen;
          
          public Person(Pen pen){
            this.pen = pen;
          }
          
          public void userPen(){
            pen.write();
          }
        }
        
  - 聚合（has-a）：
    如果一个类有一个类的实体引用(类中的类)，则它称为聚合。聚合使用has-a表示。
    
        例如：
        class Project{
          String projectName;
          Manager manager;
          ...
        }
        
    其中Project中包含实体应用Manager，所以关系为Project has-a Manager（项目有一个项目经理）。但不是 Project must has-a Manager，也就是说两个对象可以拆开，各自具有各自的生命周期独自管理。
    - 聚合的作用：提高代码的可重用性。
    - 何时使用聚合：
      当类和类的引用之间的关系不是继承时可以使用聚合。
      例：Project不是Manager的子类，两个类之间不包含继承关系，但Project需要用到Manager的属性和方法，此时使用聚合能最好的实现代码重用
    - 不同于关联关系的平等地位，聚合关系中两个类的地位是不平等。
    
  - 组合（contains-a）：
    组合是比聚合关系更强的关系，它要求聚合关系中代表整体的类控制整个对象和其引用对象的生命周期。也称为强聚合。
    
        例如
        Class Person{
          String name;
          Eye eye;//眼睛
          ...
        }
        
    Person类的生命周期中眼睛Eye的生命周期，一旦Person类的生命周期结束，则Eye的生命周期不能单独存在。
    - 优点：
      - 不破坏封装，整体类与局部类之间松耦合，彼此相对独立
      - 具有较好的可扩展性
      - 支持动态组合。在运行时，整体对象可以选择不同类型的局部对象
      - 整体类可以对局部类进行包装，封装局部类的接口，提供新的接口
    - 缺点：
      - 整体类不能自动获得和局部类同样的接口
      - 创建整体类的对象时，需要创建所有局部类的对象